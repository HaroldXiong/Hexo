<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="/img/f.png">
  
  <title>Shintaku&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Shintaku's Blog">
<meta property="og:url" content="http://www.shintaku.cc/index.html">
<meta property="og:site_name" content="Shintaku's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shintaku's Blog">
<meta name="twitter:description">
<link rel="publisher" href="114761524022260760000">
  
    <link rel="alternative" href="/atom.xml" title="Shintaku&#39;s Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Shintaku&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">お前ら知ってる！？30過ぎても童貞なら魔法使いになれるんだぜ～</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=fa-home title='Home'></i> Home</a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=fa-user title='About'></i> About</a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=fa-archive title='Archives'></i> Archives</a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=fa-tags title='Tags'></i> Tags</a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=fa-camera title='Pictures'></i> Pictures</a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=fa-trophy title='Works'></i> Works</a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.shintaku.cc"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main">
  
    <article id="post-openwrt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/12/openwrt/" class="article-date">
  <time datetime="2015-12-12T04:12:12.000Z" itemprop="datePublished">2015-12-12</time>
</a>
    
  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/opbanner.png" rel="gallery_cij1oulgd000cqq68ahfcdseu">
        <img src="/img/opbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/12/openwrt/">OpenWrt + ShadowSocks 实现路由器自动代理</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://www.shintaku.cc/2015/12/12/openwrt/" data-id="cij1oulgd000cqq68ahfcdseu" class="article-share-link">Share</a>
      
        <a href="http://www.shintaku.cc/2015/12/12/openwrt/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenWrt/">OpenWrt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ShadowSocks/">ShadowSocks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/科学上网/">科学上网</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>暑假剁手了一台RMBP但没有以太网接口，为了省钱就需要一个无线路由器，之前曾了解到路由器可以刷<strong>OpenWrt</strong>后装上<strong>ShadowSocks</strong>实现自动科学上网，于是就在集训的时候从马云家买了一个二手的<a href="http://www.tp-link.com.cn/product_225.html" target="_blank" rel="external">TP-Link TL-WR703N</a>刷上OpenWrt在机房给笔记本供网。</p>
<p><img src="/img/op703n.png" alt="TL-WR703N"></p>
<p>由于这货只有一个网口，当路由器自动获取IP地址后，就进不去<a href="192.168.1.1">192.168.1.1</a>的管理界面了，虽然能上网，但每次换网线接头的时候都要捅菊花抹掉原来的设置。因此只有使用静态IP时才能正常使用这种路由器。这学期开学后现家里有一个<a href="http://www.netgear.com/home/products/networking/wifi-routers/wnr2200.aspx" target="_blank" rel="external">Netgear WNR2200</a>在吃灰，于是就把它拿到学校刷上了OpenWrt放宿舍给各种无线设备供网。</p>
<p><img src="/img/op2200.png" alt="WNR2200"></p>
<h1 id="刷入OpenWrt">刷入OpenWrt</h1><h2 id="准备工作">准备工作</h2><h3 id="路由器">路由器</h3><p>首先你要拥有一台可以刷入OpenWrt的路由器，至于OpenWrt支持那些设备，请到<a href="https://wiki.openwrt.org/toh/start" target="_blank" rel="external">Supported Devices</a>页面查看。本文以WNR2200为例。</p>
<h3 id="固件">固件</h3><p>前往<a href="https://downloads.openwrt.org/latest/" target="_blank" rel="external">Download</a>下载最新的对应设备的固件。注意固件列表里一半会有两种后缀：<code>squashfs-factory.img</code>和<code>squashfs-sysupgrade.img</code>，如果是从原厂固件刷到OpenWrt请用前者，如果是从OpenWrt升级请用后者。还有一种可能文件名以<code>NA</code>结尾<del>，可能是代表<code>North America</code></del>，基本上与不带<code>NA</code>的没什么区别。</p>
<h3 id="环境">环境</h3><p>还需要一台有以太网接口的电脑和一根网线，电脑操作系统不限，但是<em>Windows</em>需要提前开启<code>TFTP</code>（因为这个功能系统默认是关闭的），具体操作就是进入<code>控制面板</code>-<code>程序</code>-<code>程序和功能</code>，</p>
<p><img src="/img/optftp.png" alt="开启TFTP"></p>
<p>打开<code>打开或关闭Windows功能</code>窗口，在里面把<code>TFTP</code>挑上钩，之后就可以开始了。</p>
<h2 id="刷入固件">刷入固件</h2><p><strong>刷机有风险，操作需谨慎！</strong><br><strong>刷机有风险，操作需谨慎！</strong><br><strong>刷机有风险，操作需谨慎！</strong><br><del>重要的事说三遍</del></p>
<p>首先要将路由器与电脑用网线相连（在后面的设置中网线是必要的），然后进入到路由器管理界面。</p>
<p>有的原厂固件是可以直接升级成OpenWrt的，因此首先进入路由器管理界面，找到固件升级的选项，选择下好的OpenWrt固件上传就可以了，我之前刷TL-WR703N时是可以直接上传的，上传完成重启后就算是刷完了。但我后来刷WNR2200时遇到了不认固件的情况（可能是因为原厂固件的版本问题），于是只好用<strong>TFTP</strong>的方式上传固件，这就是之前为什么要打开Windows中<code>TFTP</code>功能的原因。</p>
<p>如果从原厂管理界面中直接上传固件成功，请直接进入下一节；若不认固件，请执行以下步骤：</p>
<ul>
<li><p>关闭路由器电源，用笔尖捅住“Restore Factory Settings”<del>菊花</del>键不放。</p>
</li>
<li><p>打开路由器电源，这时电源灯开始闪烁，这时依然<strong>不要松开</strong>RESET键，直到电源灯变为绿色长亮才可松手（可能有的路由器的表现不一样，达到类似效果即可），这时路由器已经进入了tftp模式。</p>
</li>
<li><p>将电脑的IP设为<code>192.168.1.2</code>，子网掩码设为<code>255.255.255.0</code>，将电脑与路由器的<strong>1号LAN口</strong>用网线相连。</p>
</li>
<li><p>从终端进入到要刷的固件所在目录中，假设固件名叫<code>openwrt.img</code>，如果在<em>Windows</em>下则使用命令：</p>
<pre><code><span class="title">tftp</span> -i <span class="number">192.168.1.1</span> PUT <span class="string">"openwrt.img"</span>
</code></pre><p>如果在<em>OS X</em>或<em>Linux</em>下则在终端里键入<code>tftp</code>，之后使用以下命令：</p>
<pre><code>connect <span class="number">192.168</span>.1.1
binary
rexmt <span class="number">1</span>
<span class="keyword">timeout</span> <span class="number">60</span>
<span class="keyword">put</span> <span class="string">"openwrt.img"</span>
</code></pre><p>稍等片刻，路由器的灯会出现各种变化，直到电源灯又恢复长绿状态（不同路由器或许不同），说明上传完成了。</p>
</li>
<li><p>重启路由器，不出意外之后应该可以通过网页访问<a href="192.168.1.1">192.168.1.1</a>的<code>LuCI</code>管理界面了。</p>
</li>
</ul>
<h2 id="开启无线">开启无线</h2><p>较新的OpenWrt应该已经自带<code>LuCI</code>图形化界面了，因此直接浏览器打开<a href="192.168.1.1">192.168.1.1</a>就可以看到类似如下界面：</p>
<p><img src="/img/opfirst.png" alt="LuCI"></p>
<p>当然咯，第一次登入肯定是要先设密码的，毕竟也算是一个Linux系统：</p>
<p><img src="/img/oppasswd.png" alt="更改密码"></p>
<p>OpenWrt默认是关闭无线网络的，所以到<code>Network</code>-<code>Wifi</code>下面启用即可：</p>
<p><img src="/img/opwifi.png" alt="启用Wifi"></p>
<p>之后设置SSID和密码就可以通过无线方式连接了。</p>
<h1 id="必要软件">必要软件</h1><p>既然要装上软件，自然要从互联网获取，那么路由器当然要联网咯。先到<code>Network</code>-<code>Interfaces</code>设置WAN口的上网方式，这点和普通路由器没有什么差别，这里不再赘述。</p>
<p>如果觉得英文UI界面有阅读障碍，也可以到<code>System</code>-<code>Software</code>下找到一个叫<code>luci-i18n-base-zh-cn</code>的包装上就行了，当然首先要<code>Update lists</code>一下，之后到<code>System</code>-<code>System</code>下切换成<code>普通话</code>再刷新一下就变成中文界面了。</p>
<p><img src="/img/oplucicn.png" alt="设置中文"></p>
<p>当然，以后要装的部分软件也可以通过上面这种方式安装，但由于有的包列表里没有，我们在下面使用一种更通用的方法——从命令行安装。</p>
<p>OpenWrt归根结底还是一个<strong>Linux发行版</strong>，所以Linux命令在这里依然适用。</p>
<p>我们还是通过SSH登录：</p>
<pre><code><span class="title">ssh</span> root@<span class="number">192.168.1.1</span>
</code></pre><p>输入之前设置的密码后，就会看到OpenWrt特有的终端界面：</p>
<pre><code>BusyBox v1.23.2 (2015-07-25 15:09:46 CEST) built-<span class="keyword">in</span> <span class="keyword">shell</span> (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R <span class="keyword">E</span> <span class="keyword">L</span> <span class="keyword">E</span> S S   F R <span class="keyword">E</span> <span class="keyword">E</span> <span class="keyword">D</span> O <span class="literal">M</span>
 -----------------------------------------------------
 CHAOS CALMER (15.05, r46767)
 -----------------------------------------------------
<span class="comment">  * 1 1/2 oz Gin            Shake with a glassful</span>
<span class="comment">  * 1/4 oz Triple Sec       of broken ice and pour</span>
<span class="comment">  * 3/4 oz Lime Juice       unstrained into a goblet.</span>
<span class="comment">  * 1 1/2 oz Orange Juice</span>
<span class="comment">  * 1 tsp. Grenadine Syrup</span>
 -----------------------------------------------------
root@OpenWrt:~# 
</code></pre><p>由于我使用的路由器是<code>ar71xx</code>架构（其实市面上大多路由器都是这个架构），因此下面的软件包也只适用这个架构，若架构不同请根据个人情况自行寻找软件包。</p>
<h2 id="ShadowSocks">ShadowSocks</h2><p>在OpenWrt上我们可以安装<code>shdowsocks-libev</code>版本，顺便搭配LuCI界面的<code>luci-app</code>使用，这个项目在<a href="http://sourceforge.net/projects/openwrt-dist/files/" target="_blank" rel="external">sourceforge</a>有发布，安装包我们从这里获取：</p>
<pre><code>wget <span class="symbol">http:</span>/<span class="regexp">/sourceforge.net/projects</span><span class="regexp">/openwrt-dist/files</span><span class="regexp">/shadowsocks-libev/</span><span class="number">2.4</span>.<span class="number">1</span>-<span class="number">6</span>f44d53/ar71xx/shadowsocks-libev-spec_2.<span class="number">4.1</span>-<span class="number">1_</span>ar71xx.ipk
wget <span class="symbol">http:</span>/<span class="regexp">/sourceforge.net/projects</span><span class="regexp">/openwrt-dist/files</span><span class="regexp">/luci-app/shadowsocks</span>-spec/luci-app-shadowsocks-spec_1.<span class="number">3.2</span>-<span class="number">1_</span>all.ipk
</code></pre><p>下载完成后使用<code>opkg</code>命令安装：</p>
<pre><code>opkg <span class="keyword">install</span> shadowsocks-libev-spec_2.<span class="number">4.1</span>-<span class="number">1</span>_ar71xx.ipk
opkg <span class="keyword">install</span> luci-app-shadowsocks-spec_1.<span class="number">3.2</span>-<span class="number">1</span>_all.ipk
</code></pre><p>安装完成后<code>reboot</code>命令重启路由器，再次进入LiCI界面可以看到多了一个<code>Services</code>-<code>ShadowSocks</code>：</p>
<p><img src="/img/opss.png" alt="ShadowSocks"></p>
<p>就说明安装正确，在里面输入ShadowSocks服务器信息就可以自动代理了，凡是连上这台路由器的设备获取到的都是代理后的网络了。</p>
<h2 id="6relayd">6relayd</h2><p>由于现在即使通过代理上网也是消耗校内流量的，为了不走流量，我们只能借助IPv6网络。但是普通的路由器很少可以正常获取IPv6地址，即使路由器能获取到连接设备也很难获取，除了NETGEAR的部分路由器（包括WNR2200）的新版固件是有IPv6连接的，并且本人亲测使用<code>穿透模式</code>可以正常使用IPv6网络。所以我希望在OpenWrt上也能使用<code>穿透模式</code>，再通过ShadowSocks代理IPv6网络就可以免流量访问外网了。</p>
<p>要使用<code>穿透模式</code>就少不了<a href="https://wiki.openwrt.org/doc/uci/6relayd" target="_blank" rel="external">6relayd</a>这个软件。可是官方源并没提供这个包，于是还需要从网络获取并安装：</p>
<pre><code>wget <span class="symbol">http:</span>/<span class="regexp">/193.87.95.148/openwrt</span><span class="regexp">/ar71/trunk</span><span class="regexp">/bin/ar</span>71xx/packages/<span class="number">6</span>relayd_2013-<span class="number">10</span>-<span class="number">21.1</span>-ad00c3dd9ee42f172870708724858ab502b3a689_ar71xx.ipk
opkg install <span class="number">6</span>relayd_2013-<span class="number">10</span>-<span class="number">21.1</span>-ad00c3dd9ee42f172870708724858ab502b3a689_ar71xx.ipk
</code></pre><p>安装完成之后编辑<code>/etc/config/6relayd</code>文件在默认配置后面加一组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">config relay</span><br><span class="line">	option master   <span class="string">'wan'</span></span><br><span class="line">	option network  <span class="string">'lan'</span></span><br><span class="line">	option rd       <span class="string">'relay'</span></span><br><span class="line">	option dhcpv6   <span class="string">'relay'</span></span><br><span class="line">	option ndp      <span class="string">'relay'</span></span><br></pre></td></tr></table></figure>
<p>保存后使用下面的命令开启服务并设置为开机启动即可：</p>
<pre><code><span class="regexp">/etc/</span>init.d/<span class="number">6</span>relayd start
<span class="regexp">/etc/</span>init.d/<span class="number">6</span>relayd enable
</code></pre><h1 id="配置路由器">配置路由器</h1><p>现在要到LuCI界面下找到<code>Network</code>-<code>Interfaces</code>并添加一个新的接口：</p>
<p><img src="/img/opnew.png" alt="Add new interface"></p>
<p>接口名叫<code>wan6</code>，协议选择<code>DHCPv6 client</code>，接口自定义为<code>@wan</code>：</p>
<p><img src="/img/opwan6.png" alt="wan6"></p>
<p>保存应用后重启路由器，就会发现多了一个WAN6接口，并且WAN口获取到IPv6地址了：</p>
<p><img src="/img/opipv6.png" alt="IPv6地址"></p>
<p>这时回到ShadowSocks的配置界面，将服务器地址改为VPS的IPv6地址就可以了：</p>
<p><img src="/img/opsss.png" alt="ShadowSocks设置"></p>
<p>记得要开全局代理，因为毕竟PPPoE拨着号呢，在校园网11月30日改革后有线网拨号后不用登录就能上网让我很慌啊，路由器一直连着网终归是有偷跑流量的风险，所以打开IPv6全局代理最为保险，使得能通过代理的IPv6网络可以使用而IPv4网络因为通不过代理无法使用。</p>
<p>于是现在得到的效果就是任何连接到这台路由器的设备无需任何登录即可<strong>访问外网</strong>，而且<strong>不消耗校内网流量</strong>，网络还<strong>自带科学上网Buff</strong>，从此妈妈再也不用担心我流量不够用了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>




  
    <article id="post-shadowsocks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/11/shadowsocks/" class="article-date">
  <time datetime="2015-11-11T15:33:33.000Z" itemprop="datePublished">2015-11-11</time>
</a>
    
  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/ssbanner.png" rel="gallery_cij1oulg50002qq68u2nvtlpl">
        <img src="/img/ssbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/11/shadowsocks/">Digital Ocean + ShadowSocks 实现校园网免流量上网</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://www.shintaku.cc/2015/11/11/shadowsocks/" data-id="cij1oulg50002qq68u2nvtlpl" class="article-share-link">Share</a>
      
        <a href="http://www.shintaku.cc/2015/11/11/shadowsocks/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Digital-Ocean/">Digital Ocean</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ShadowSocks/">ShadowSocks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/科学上网/">科学上网</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>由于校园网的资费坑得一逼，况且有流量限制，这种感觉甚是让人不爽。之前曾看到郑老湿和陈老湿在VPS搭上VPN免流量上网，后来又在开源课上受到<a href="http://www.pufengdu.org/" target="_blank" rel="external">杜老师</a>的启发，决定通过ShadowSocks代理后的IPv6教育网实现<strong>免流量上网</strong>。</p>
<h1 id="开通VPS服务器">开通VPS服务器</h1><p>目前使用体验较好的VPS服务商大概有Linode、Sakura、Digital Ocean等等，由于GitHub的<a href="https://education.github.com/pack" target="_blank" rel="external">Student Developer Pack</a>有DO家的50美刀优惠<del>，虽然到现在都没申请下来</del>，于是本文使用的是DO的服务。</p>
<h2 id="注册DO帐号">注册DO帐号</h2><p>通过我的邀请 <a href="https://www.digitalocean.com/?refcode=bbb0bdba1c4e" target="_blank" rel="external">注册地址</a> 注册的新账户将获得$10的优惠。</p>
<p>按照步骤填完个人信息后，需要绑定支付方式并往新账户里充5美元来激活DO账户。个人建议先绑定PayPal账户，至于PayPal如果没有信用卡的话，绑定储蓄卡也是可以的，个人亲测学校发的交行卡可用。</p>
<p>激活账户后，使用优惠码<code>ACTIVATE10</code>又可以获得$10。</p>
<p><img src="/img/sspromo.png" alt="输入优惠码"></p>
<p>不出意外，现在账户里应该有25美元了，这足够使用最便宜的套餐五个月了。</p>
<h2 id="新建服务器">新建服务器</h2><p>首先要给服务器取一个Hostname，按个人喜好随意命名。</p>
<p>然后选择套餐，我选择的是最便宜的$5套餐，包含<strong>512M的内存、20G的SSD和1000G流量</strong>每个月。</p>
<p><img src="/img/ssch1.png" alt="选择配置"></p>
<p>数据中心任意选择，建议选择位于美国西海岸或者亚太地区的，我选择的是旧金山机房。</p>
<p>选择镜像的时候选一个自己熟悉的系统就可以了，也可以选择带一键安装应用的，按需选择即可。</p>
<p><img src="/img/ssch2.png" alt="选择配置"></p>
<p>附加选项里<strong>记得选上IPv6</strong>，因为在本文的需求中这是必不可少的。</p>
<p>SSH公钥可以现在添加，也可以以后再添加。之后点创建就可以等着创建完成了。<del>DO宣传最少只用55秒就可以创建完成，但是我好像用了几分钟的样子？</del></p>
<p>创建成功后，就会进入到这个VPS的管理界面，从设置中可以看到你的公网地址。同时DO会发送首次登录的密码到你的邮箱中，请注意查收。姑且将这台服务器的地址记作<code>IP</code>，然后就可以在DO提供的网页版控制台或本地终端SSH登录了：</p>
<pre><code><span class="title">ssh</span> root<span class="variable">@IP</span>
</code></pre><p>成功登录后，首先要求更改root密码。如果希望以后本机登录不再输入密码，可以将本地的公钥上传到服务器端：</p>
<pre><code>scp ~<span class="regexp">/.ssh/id</span>_rsa.pub root<span class="variable">@IP</span><span class="symbol">:~/</span>.ssh/authorized_keys
</code></pre><p>如果本地<code>~/.ssh</code>目录下没有<code>id_rsa</code>这样的文件，可以使用<code>ssh-kengen</code>命令在该目录下生成。这样以后每次ssh连接时就不用再输密码了。</p>
<h1 id="配置Shadowsocks">配置Shadowsocks</h1><h2 id="服务器端">服务器端</h2><h3 id="搭建服务">搭建服务</h3><p>SSH登录到VPS服务器后要使用pip安装ShadowSocks。</p>
<p>如果服务器装的CentOS系统，使用命令：</p>
<pre><code>yum <span class="keyword">install</span> python-setuptools &amp;&amp; easy_install pip
pip <span class="keyword">install</span> shadowsocks
</code></pre><p>如果是Debian或Ubuntu系统，使用命令：</p>
<pre><code>apt-get <span class="keyword">install</span> python-pip
pip <span class="keyword">install</span> shadowsocks
</code></pre><p>安装完成后，在<code>/etc/</code>下新建一个叫<code>shadowsocks.json</code>的配置文件，内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"server"</span> : <span class="string">"::"</span>,</span><br><span class="line">	<span class="string">"server_port"</span> : <span class="number">8388</span>,</span><br><span class="line">	<span class="string">"local_address"</span> : <span class="string">"127.0.0.1"</span>,</span><br><span class="line">	<span class="string">"local_port"</span> : <span class="number">1080</span>,</span><br><span class="line">	<span class="string">"password"</span> : <span class="string">"your_password"</span>,</span><br><span class="line">	<span class="string">"timeout"</span> : <span class="number">300</span>,</span><br><span class="line">	<span class="string">"method"</span> : <span class="string">"rc4-md5"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中<code>&quot;server&quot;</code>一栏之所以填<code>&quot;::&quot;</code>是为了同时监听IPv4/v6两个端口，因为本文的需求中我们需要双栈连接，如果VPS没有IPv6功能或仅是为了搭梯子用，这里面填写一个IPv4的地址就可以了。<code>&quot;password&quot;</code>栏填写自己要设置的密码。至于<code>&quot;method&quot;</code>加密方式一栏，主流的有<code>rc4-md5</code>和<code>aes-256-cfb</code>等等，据说前者速度快，后者更安全，可以根据个人喜好自行权衡。</p>
<p>保存后就可以通过以下命令启动和停止ShadowSocks服务了：</p>
<pre><code>ssserver -c /etc/shadowsocks.json --fast-<span class="keyword">open</span> -<span class="keyword">d</span> start
ssserver -<span class="keyword">d</span> stop
</code></pre><p>如果觉得以上命令太长难于记忆，可以在<code>~/.bashrc</code>里加入alias：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ssstart=<span class="string">'ssserver -c /etc/shadowsocks.json --fast-open -d start'</span></span><br><span class="line"><span class="built_in">alias</span> ssstop=<span class="string">'ssserver -d stop'</span></span><br></pre></td></tr></table></figure>
<p>保存后记得使用<code>source ~/.bashrc</code>命令应用配置，这样就可以每次通过<code>ssstart</code>和<code>ssstop</code>命令启动或停止服务了。如果怕服务器重启以后懒得手动启动ss服务，也可以加到开机启动项里，编辑<code>/etc/rc.local</code>，把上面的启动命令写进去就行了。</p>
<h3 id="性能优化">性能优化</h3><p>现在我们要祭出TCP加速神器——<strong>锐速</strong>了。</p>
<p>锐速是一款免费的TCP底层加速软件，可以便捷地完成服务器网络的优化，配合ShadowSocks效果甚好。</p>
<p>欲用服务，先要去<a href="http://www.serverspeeder.com/" target="_blank" rel="external">锐速官网</a>注册。然后在服务器上通过以下命令下载安装：</p>
<pre><code>wget http:<span class="comment">//my.serverspeeder.com/d/ls/serverSpeederInstaller.tar.gz</span>
tar xzvf serverSpeederInstaller<span class="class">.tar</span><span class="class">.gz</span>
bash serverSpeederInstaller.sh
</code></pre><p>安装过程中需要填写刚注册的账号密码等，一路回车安装结束。</p>
<p>之后还要编辑配置文件<code>/serverspeeder/etc/config</code>，修改以下参数:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">advinacc=<span class="string">"1"</span></span><br><span class="line">maxmode=<span class="string">"1"</span></span><br><span class="line">rsc=<span class="string">"1"</span></span><br><span class="line">gso=<span class="string">"1"</span></span><br></pre></td></tr></table></figure>
<p>保存后重启服务就可以了：</p>
<pre><code><span class="keyword">service</span> serverSpeeder <span class="literal">restart</span>
</code></pre><h2 id="本地客户端">本地客户端</h2><p>首先确定你可以获取到IPv6地址，最简便的方法就是打开<a href="http://bt.neu.edu.cn/" target="_blank" rel="external">六维空间</a>测试一下，如果可以打开就说明没问题。</p>
<h3 id="Windows">Windows</h3><p><a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="external">Shadowsocks for Windows</a></p>
<h3 id="Mac_OS_X">Mac OS X</h3><p><a href="https://github.com/shadowsocks/shadowsocks-iOS/releases" target="_blank" rel="external">ShadowsocksX</a></p>
<h3 id="Linux">Linux</h3><p>Linux的客户端安装方式同服务器端。</p>
<p>各种平台上的服务器配置按照之前服务器端的设置填写即可，但是server地址记得<strong>填写IPv6的</strong>，然后设成全局代理。</p>
<p>这时Google一下自己的<a href="https://www.google.com/#newwindow=1&amp;safe=active&amp;q=ip" target="_blank" rel="external">IP</a>，如果地址确实是VPS的地址，就可以开始愉快的上网了。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>




  
    <article id="post-qt-problem" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/18/qt-problem/" class="article-date">
  <time datetime="2015-10-18T13:11:11.000Z" itemprop="datePublished">2015-10-18</time>
</a>
    
  </div>
  <div class="article-inner ">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/img/qtbanner.png" rel="gallery_cij1oulga0009qq6895jvdddu">
        <img src="/img/qtbanner.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/18/qt-problem/">Qt5.5程序的打包与发布</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://www.shintaku.cc/2015/10/18/qt-problem/" data-id="cij1oulga0009qq6895jvdddu" class="article-share-link">Share</a>
      
        <a href="http://www.shintaku.cc/2015/10/18/qt-problem/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Qt/">Qt</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>因为要做C＋＋软件实习的大作业，所以选择了易于上手的Qt作为图形化界面程序开发框架，IDE自然就是Qt Creator了。但是Qt程序的打包发布却是不接地气，因为依赖实在是太多了。有的时候加好依赖后在自己的开发环境上可以运行，但脱离开发环境却依旧报</p>
<blockquote>
<p>This application failed to start because it could not find or load the Qt platform plugin “windows”.</p>
</blockquote>
<p><img src="/img/qt0.png" alt="无法加载qwindows"><br>甚至<br><img src="/img/qt1.png" alt="Runtime"><br>于是现在亟待解决的问题就是如何能够找到所有所需依赖并能够将其打包引用。</p>
<h1 id="查找依赖工具">查找依赖工具</h1><p>通过阅读<a href="http://doc.qt.io/qt-5/windows-deployment.html#application-dependencies" target="_blank" rel="external">官方文档</a>发现，Qt里面内置了一个dll依赖性检查工具——<code>windeploy.exe</code>。这个程序应当在<code>~/Qt/Qt5.5.0/5.5/mingw492_32/bin/</code>下，通过命令提示符执行它可以得到<code>使用方法×1</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Shintaku&gt;C:\Qt\Qt5.<span class="number">5.0</span>\<span class="number">5.5</span>\mingw492_32\bin\windeployqt.exe</span><br><span class="line">Please specify the binary or folder.</span><br><span class="line"></span><br><span class="line">Usage: C:\Qt\Qt5.<span class="number">5.0</span>\<span class="number">5.5</span>\mingw492_32\bin\windeployqt.exe [options] [files]</span><br><span class="line">Qt Deploy Tool <span class="number">5.5</span>.<span class="number">0</span></span><br><span class="line"></span><br><span class="line">The simplest way to use windeployqt is to add the bin directory of your Qt</span><br><span class="line">installation (e.g. &lt;QT_DIR\bin&gt;) to the PATH variable and <span class="keyword">then</span> run:</span><br><span class="line">  windeployqt &lt;path-to-app-binary&gt;</span><br><span class="line">If ICU, ANGLE, etc. are not <span class="keyword">in</span> the bin directory, they need to be <span class="keyword">in</span> the PATH</span><br><span class="line">variable. If your application uses Qt Quick, run:</span><br><span class="line">  windeployqt --qmldir &lt;path-to-app-qml-files&gt; &lt;path-to-app-binary&gt;</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -?, -h, --help             Displays this help.</span><br><span class="line">  -v, --version              Displays version information.</span><br><span class="line">  --dir &lt;directory&gt;          Use directory instead of binary directory.</span><br><span class="line">  --libdir &lt;path&gt;            Copy libraries to path.</span><br><span class="line">  --debug                    Assume debug binaries.</span><br><span class="line">  --release                  Assume release binaries.</span><br><span class="line">  --release-with-debug-info  Assume release binaries with debug information.</span><br><span class="line">  --force                    Force updating files.</span><br><span class="line">  --dry-run                  Simulation mode. Behave normally, but <span class="keyword">do</span> not</span><br><span class="line">                             copy/update any files.</span><br><span class="line">  --no-plugins               Skip plugin deployment.</span><br><span class="line">  --no-libraries             Skip library deployment.</span><br><span class="line">  --qmldir &lt;directory&gt;       Scan <span class="keyword">for</span> QML-imports starting from directory.</span><br><span class="line">  --no-quick-import          Skip deployment of Qt Quick imports.</span><br><span class="line">  --no-translations          Skip deployment of translations.</span><br><span class="line">  --no-system<span class="operator">-d</span>3d-compiler   Skip deployment of the system D3D compiler.</span><br><span class="line">  --compiler-runtime         Deploy compiler runtime (Desktop only).</span><br><span class="line">  --no-compiler-runtime      Do not deploy compiler runtime (Desktop only).</span><br><span class="line">  --webkit2                  Deployment of WebKit2 (web process).</span><br><span class="line">  --no-webkit2               Skip deployment of WebKit2.</span><br><span class="line">  --json                     Print to stdout <span class="keyword">in</span> JSON format.</span><br><span class="line">  --angle                    Force deployment of ANGLE.</span><br><span class="line">  --no-angle                 Disable deployment of ANGLE.</span><br><span class="line">  --list &lt;option&gt;            Print only the names of the files copied.</span><br><span class="line">                             Available options:</span><br><span class="line">                              <span class="built_in">source</span>:   absolute path of the <span class="built_in">source</span> files</span><br><span class="line">                              target:   absolute path of the target files</span><br><span class="line">                              relative: paths of the target files, relative</span><br><span class="line">                                        to the target directory</span><br><span class="line">                              mapping:  outputs the <span class="built_in">source</span> and the relative</span><br><span class="line">                                        target, suitable <span class="keyword">for</span> use within an</span><br><span class="line">                                        Appx mapping file</span><br><span class="line">  --verbose &lt;level&gt;          Verbose level.</span><br><span class="line"></span><br><span class="line">Qt libraries can be added by passing their name (-xml) or removed by passing</span><br><span class="line">the name prepended by --no- (--no-xml). Available libraries:</span><br><span class="line">bluetooth clucene concurrent core declarative designer designercomponents</span><br><span class="line">enginio gui qthelp multimedia multimediawidgets multimediaquick network nfc</span><br><span class="line">opengl positioning printsupport qml qmltooling quick quickparticles quickwidgets</span><br><span class="line"></span><br><span class="line">script scripttools sensors serialport sql svg <span class="built_in">test</span> webkit webkitwidgets</span><br><span class="line">websockets widgets winextras xml xmlpatterns webenginecore webengine</span><br><span class="line">webenginewidgets <span class="number">3</span>dcore <span class="number">3</span>drenderer <span class="number">3</span>dquick <span class="number">3</span>dquickrenderer <span class="number">3</span>dinput geoservices</span><br><span class="line"></span><br><span class="line">Arguments:</span><br><span class="line">  [files]                    Binaries or directory containing the binary.</span><br></pre></td></tr></table></figure>
<p>发现当<code>windeploy</code>有一个参数为<code>二进制文件</code>时，会在其所在目录下生成该文件所依赖的所有文件。</p>
<h1 id="提取依赖文件">提取依赖文件</h1><p>于是我们可以在任意目录下新建一个文件夹，然后将Qt编译生成的<code>可执行文件</code>复制到新文件夹下。<br>接下来在命令提示符里执行<code>windeploy yourProgram.exe</code>便可以将其所需依赖加入到新文件夹中了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Shintaku&gt;C:\Qt\Qt5.<span class="number">5.0</span>\<span class="number">5.5</span>\mingw492_32\bin\windeployqt.exe C:\Users\Shi</span><br><span class="line">ntaku\Desktop\release\Library.exe</span><br><span class="line">C:\Users\Shintaku\Desktop\release\Library.exe <span class="number">32</span> bit, release executable</span><br><span class="line">Adding Qt5Svg <span class="keyword">for</span> qsvgicon.dll</span><br><span class="line">Direct dependencies: Qt5Core Qt5Gui Qt5Sql Qt5Widgets</span><br><span class="line">All dependencies   : Qt5Core Qt5Gui Qt5Sql Qt5Widgets</span><br><span class="line">To be deployed     : Qt5Core Qt5Gui Qt5Sql Qt5Svg Qt5Widgets</span><br><span class="line">Updating Qt5Core.dll.</span><br><span class="line">Updating Qt5Gui.dll.</span><br><span class="line">Updating Qt5Sql.dll.</span><br><span class="line">Updating Qt5Svg.dll.</span><br><span class="line">Updating Qt5Widgets.dll.</span><br><span class="line">Updating libGLESV2.dll.</span><br><span class="line">Updating libEGL.dll.</span><br><span class="line">Updating D3Dcompiler_47.dll.</span><br><span class="line">Creating directory iconengines.</span><br><span class="line">Updating qsvgicon.dll.</span><br><span class="line">Creating directory imageformats.</span><br><span class="line">Updating qdds.dll.</span><br><span class="line">Updating qgif.dll.</span><br><span class="line">Updating qicns.dll.</span><br><span class="line">Updating qico.dll.</span><br><span class="line">Updating qjp2.dll.</span><br><span class="line">Updating qjpeg.dll.</span><br><span class="line">Updating qmng.dll.</span><br><span class="line">Updating qsvg.dll.</span><br><span class="line">Updating qtga.dll.</span><br><span class="line">Updating qtiff.dll.</span><br><span class="line">Updating qwbmp.dll.</span><br><span class="line">Updating qwebp.dll.</span><br><span class="line">Creating directory platforms.</span><br><span class="line">Updating qwindows.dll.</span><br><span class="line">Creating directory sqldrivers.</span><br><span class="line">Updating qsqlite.dll.</span><br><span class="line">Updating qsqlmysql.dll.</span><br><span class="line">Updating qsqlodbc.dll.</span><br><span class="line">Updating qsqlpsql.dll.</span><br><span class="line">Creating C:\Users\Shintaku\Desktop\release\translations...</span><br><span class="line">Creating qt_ca.qm...</span><br><span class="line">Creating qt_cs.qm...</span><br><span class="line">Creating qt_de.qm...</span><br><span class="line">Creating qt_fi.qm...</span><br><span class="line">Creating qt_fr.qm...</span><br><span class="line">Creating qt_hu.qm...</span><br><span class="line">Creating qt_it.qm...</span><br><span class="line">Creating qt_ja.qm...</span><br><span class="line">Creating qt_ko.qm...</span><br><span class="line">Creating qt_lv.qm...</span><br><span class="line">Creating qt_ru.qm...</span><br><span class="line">Creating qt_sk.qm...</span><br><span class="line">Creating qt_uk.qm...</span><br></pre></td></tr></table></figure>
<p>强烈建议在此文件夹下运行一下程序试试，因为这个工具并不一定能将所有必需的依赖加进来，这时运行极有可能还会报<br><img src="/img/qt2.png" alt="系统错误"><br>如果这样，请移步<code>~/Qt/Qt5.5.0/5.5/mingw492_32/bin</code>下找到缺少的<code>.dll</code>文件将它们移到新文件夹下。经过这步检查，在开发环境下应该可以正常运行可执行文件了。</p>
<h1 id="修改引用路径">修改引用路径</h1><p>这时请把这个文件夹拷贝到其他运行环境上测试程序是否能成功运行：如果可以成功运行，那么请跳过这一步；如果不能成功运行，而且依旧报</p>
<blockquote>
<p>This application failed to start because it could not find or load the Qt platform plugin “windows”.</p>
</blockquote>
<p>则说明程序没有成功引用到动态链接库，这时应当修改源代码。<br>找到工程中的<code>main.cpp</code>文件，在主函数开头中加入一句<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QApplication::addLibraryPath(<span class="string">"."</span>);</span><br></pre></td></tr></table></figure></p>
<p>重新编译并替换新文件夹中的.exe文件，再放到其他运行环境上就应该可以成功引用到链接库了。</p>
<h1 id="打包程序发布">打包程序发布</h1><p>这时我们就可以打包程序了。我使用的是一款叫做Enigma Virtual Box的封装工具<a href="/file/enigmavb.exe">点此下载</a>，这个软件的名字和当年图灵破译的英格玛机一样。<br>软件装好后运行，从主界面选择输入目标文件和输出文件的路径，然后在下面<code>Files</code>里添加所有需要的链接库<br><img src="/img/qt3.png" alt="添加文件"><br>然后有一个<code>Files Options</code>里可选是否压缩文件，压缩后会比较小，然后点<code>Process</code>就行了<br><img src="/img/qt4.png" alt="压缩文件"><br>不久后会在选择的输出路径中生成最终打包好的程序，大功告成。</p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>




  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/1970/01/01/hello-world/" class="article-date">
  <time datetime="1969-12-31T16:00:00.000Z" itemprop="datePublished">1970-01-01</time>
</a>
    
  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/1970/01/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://www.shintaku.cc/1970/01/01/hello-world/" data-id="cij1oulfp0000qq68r87ee2vz" class="article-share-link">Share</a>
      
        <a href="http://www.shintaku.cc/1970/01/01/hello-world/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>




  
  
</section>
          
            <div id="ukagaka_panel"></div>

<aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2015/12/12/openwrt/">
              
                <i class="icon-file-o"></i> 
              
            OpenWrt + ShadowSocks 实现路由器自动代理</a>
          </li>
        
          <li>
            <a class="text" href="/2015/11/11/shadowsocks/">
              
                <i class="icon-file-o"></i> 
              
            Digital Ocean + ShadowSocks 实现校园网免流量上网</a>
          </li>
        
          <li>
            <a class="text" href="/2015/10/18/qt-problem/">
              
                <i class="icon-file-o"></i> 
              
            Qt5.5程序的打包与发布</a>
          </li>
        
          <li>
            <a class="text" href="/1970/01/01/hello-world/">
              
                <i class="icon-file-o"></i> 
              
            Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget widget-background1">   
      	<ul>
	      <li><a href="https://github.com/" target="_blank" title="GitHub"><i class="fa-github"></i> GitHub </a></li>
	      <li><a href="https://developers.google.com/" target="_blank" title="Google Developers"><i class="fa-google"></i> Google Developers </a></li>
	      <li><a href="https://liangzhenduo0608.github.io/" target="_blank" title="github.io"><i class="fa-github-alt"></i> Recursion </a></li>
	      <li><a href="http://xzjqx.cn/" target="_blank" title="笑卒渐清晰"><i class="fa-wordpress"></i> xzjqx's blog </a></li>
	      <li><a href="http://blog.muyujinxi.cn/" target="_blank" title="春哥的博客"><i class="fa-wordpress"></i> Spring bro's blog </a></li>
    	</ul>
    </div>
</div>


<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9920928489161252"
     data-ad-slot="7401763722"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/liangzhenduo0608" target="_blank" title="GitHub"><i class="fa-github-square"></i></a>
      
      
      <a href="https://plus.google.com/114761524022260759157" target="_blank" title="Google+"><i class="fa-google-plus-square"></i></a>
      
      
      <a href="https://www.facebook.com/profile.php?id=100005630052910" target="_blank" title="Facebook"><i class="fa-facebook-square"></i></a>
      
      
      <a href="https://twitter.com/liangzhenduo" target="_blank" title="Twitter" ><i class="fa-twitter-square"></i></a>
      
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a>     &copy; 2016 Shintaku 
    </div>  

  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/picture" class="mobile-nav-link">Pictures</a>
  
    <a href="/works" class="mobile-nav-link">Works</a>
  
</nav>
    
<script>
  var disqus_shortname = 'shintaku';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/jquery.lazyload.js" type="text/javascript"></script>
<script src="/js/jquery.als-1.6.js" type="text/javascript"></script>

<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>